【一】创建项目
【1】new file
配置项目的参数
虚拟环境
【2】Django版本
3.2.12
pip install django==3.2.12
【3】配置数据库
MySQL 5.7.31
配置Django的数据库
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'bbs_system',
        "USER": "root",
        "PASSWORD": "123456",
        "HOST": "127.0.0.1",
        "PORT": 3306,
        "CHARSET": "utf8mb4"
    }
}
启动就会抛出异常
django.core.exceptions.ImproperlyConfigured: Error loading MySQLdb module.
Did you install mysqlclient?
解决方案
# 先安装 pymysql 
pip install pymysql 
# 导入猴子补丁 BulltinBoardSystem/__init__.py
import pymysql

pymysql.install_as_MySQLdb()
又报错
django.db.utils.OperationalError: (1049, "Unknown database 'bbs_system'")
解决方案，创建一个新的数据库
create database bbs_system;
【4】静态文件系统
需要在设置中增加静态文件路径
# 静态文件资源系统
STATIC_URL = 'static/'
# 配置静态资源文件位置
STATICFILES_DIRS = ['static']
【二】分析项目需求
仿照博客园来写我们的 bbs 系统
【1】首页
上侧有一个导航栏
左侧是一个广告位
中间是每个人的文章的渲染位置
右侧增加一个按照指定条件排序后的文章渲染顺序
【2】首页搜索框
基于百度的关键字搜索框
【3】登陆和注册功能
未登录用户显示的事登陆和注册
登陆用户显示的事自己的个人信息以及登陆后的操作
【4】个人站点页
上面还是原本的首页导航条
中间部分是一个自己的站点名点击就跳转到个人站点页上
左侧有一个个人介绍 有 标签 分类 归档 阅读排行
右侧是所有文章的简介
【5】文章详情页
左侧和站点页一致
右侧渲染的是当前文章的详细内容
文章下侧
 - 点赞和点踩
 - 评论框
 - 评论楼渲染
【三】表分析和创建
【1】用户表
存储用户信息
# 继承 原本的Django的 auth 的 User 表 扩展字段
# 扩展出的字段：手机号，头像，注册时间和更新时间
关联字段
# 关联个人站点
# 个人站点和个人用户是一对一关系 一个人只能有一个站点 一个站点只对应唯一的一个人

【2】个人站点表
存储个人站点信息的
# 我自己的站点 ： https://www.cnblogs.com/dream-ze
# 站点名称 比如 dream-ze
# 站点标题 比如 有一个座右铭/简介
# 站点样式 比如 css样式
【3】文章表
存储文章的信息
# 文章标题
# 文章简介(摘要)
# 文章主题内容
# 文章的发布时间
# 文章的更新时间
关联字段
# 文章是只属于某一个人的 --- 个人站点关联上 一对多关系
# 文章可以有多个标签 一个标签可以对应多个文章 多对多关系
# 文章可以有一个分类 一个分类可以哟多篇文章 一对多关系
扩展字段
# 当一篇文章的下述内容进行更改后要同时更改我当前文章中的字段数字
# 文章评论数
# 文章点赞数
# 文章点踩数

【4】文章分类表
存储文章的分类标签的
# 分类名称
# java / Python / Go ...
【5】文章标签表
存储文章的标签的
# 标签名称
# 面试题 / 普通的文章 / 开心 / 快乐

【6】文章点赞点踩表
存储文章的点赞点踩信息的
# 点赞还是点踩
关联字段
# 知道是那个人的文章 关联目标用户
# 关联的哪篇文章 关联文章

【7】文章评论表
存储的是给某一篇文章的评论信息
# 评论内容
# 评论创建时间
# 评论更新时间
# 关联文章
# 关联用户
子评论
# 自己可以关联自己

【四】创建APP
【1】用户
【2】文章
【3】个人站点
【4】个人后台

【五】创建表模型
【1】公共表
创建时间
更新时间
from django.db import models


class BaseModel(models.Model):
    # 创建时间 -- 第一次新增的时候添加
    create_time = models.DateTimeField(auto_now_add=True, verbose_name="创建时间")
    # 更新时间 -- 每一次触发更新会更新时间
    update_time = models.DateTimeField(auto_now=True, verbose_name="更新时间")

    class Meta:
        # 当前表是一个抽象表
        # 抽象表不会再数据库中创建出真正的表模型
        abstract = True
【2】创建用户表模型
